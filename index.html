<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ID2501 çµæ„Ÿä»“åº“</title>
    <style>
        /* --- ğŸ¨ å…¨å±€è§†è§‰ç³»ç»Ÿ --- */
        :root {
            --glass-bg: rgba(255, 255, 255, 0.7);
            --glass-sidebar: rgba(255, 255, 255, 0.55);
            --glass-card: rgba(255, 255, 255, 0.6);
            --glass-border: 1px solid rgba(255, 255, 255, 0.65);
            --backdrop-blur: blur(25px) saturate(180%);
            
            --primary-color: #4f46e5;
            --primary-hover: #4338ca;
            --accent-color: #8b5cf6;
            --danger-color: #ef4444;
            --success-color: #10b981;
            
            --text-main: #1e293b;
            --text-sub: #475569;
            --text-muted: #94a3b8;
            
            --radius-lg: 24px;
            --radius-md: 16px;
            --radius-sm: 12px;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", "Segoe UI", Roboto, sans-serif;
            background-color: #f1f5f9;
            color: var(--text-main);
            height: 100vh;
            overflow: hidden;
            display: flex; justify-content: center; align-items: center;
        }

        .ambient-bg { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; z-index: -1; overflow: hidden; }
        .orb { position: absolute; border-radius: 50%; filter: blur(80px); opacity: 0.6; animation: float 15s infinite alternate ease-in-out; }
        .orb-1 { top: -10%; left: -10%; width: 50vw; height: 50vw; background: #c7d2fe; }
        .orb-2 { bottom: -10%; right: -10%; width: 50vw; height: 50vw; background: #fbcfe8; animation-delay: -5s; }
        .orb-3 { top: 40%; left: 30%; width: 40vw; height: 40vw; background: #bbf7d0; animation-delay: -8s; }
        @keyframes float { 0% { transform: translate(0, 0) scale(1); } 100% { transform: translate(30px, -30px) scale(1.05); } }

        .app-window {
            width: 95vw; max-width: 1200px; height: 90vh;
            background: var(--glass-bg);
            backdrop-filter: var(--backdrop-blur);
            -webkit-backdrop-filter: var(--backdrop-blur);
            border: var(--glass-border);
            border-radius: var(--radius-lg);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.15);
            display: flex; overflow: hidden;
        }

        .sidebar {
            width: 260px;
            background: var(--glass-sidebar);
            border-right: var(--glass-border);
            padding: 30px 20px;
            display: flex; flex-direction: column; flex-shrink: 0;
        }

        .app-brand { margin-bottom: 40px; padding-left: 10px; }
        .app-title {
            font-size: 1.6rem; font-weight: 800;
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            letter-spacing: -0.5px;
        }
        .app-subtitle { font-size: 0.85rem; color: var(--text-sub); margin-top: 5px; font-weight: 500; opacity: 0.8; }

        .nav-menu { display: flex; flex-direction: column; gap: 10px; }
        .nav-item {
            display: flex; align-items: center; padding: 14px 16px; border-radius: var(--radius-sm);
            color: var(--text-sub); font-weight: 600; font-size: 0.95rem;
            cursor: pointer; transition: all 0.25s ease; border: none; background: none; text-align: left;
        }
        .nav-item:hover { background: rgba(255, 255, 255, 0.5); color: var(--primary-color); transform: translateX(4px); }
        .nav-item.active {
            background: white; color: var(--primary-color);
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
        }
        .nav-icon { margin-right: 12px; font-size: 1.2rem; }

        .content-area { flex: 1; padding: 40px 50px; overflow-y: auto; scroll-behavior: smooth; }

        /* --- ğŸ  æ–°å¢ï¼šé¦–é¡µ Hero æ ·å¼ --- */
        .hero-card {
            background: linear-gradient(135deg, rgba(255,255,255,0.9), rgba(255,255,255,0.5));
            border-radius: var(--radius-lg);
            padding: 40px 20px;
            text-align: center;
            border: var(--glass-border);
            box-shadow: 0 20px 40px rgba(0,0,0,0.05);
            margin-bottom: 30px;
        }
        .hero-title {
            font-size: 2.2rem; font-weight: 800;
            background: linear-gradient(135deg, #4f46e5, #ec4899);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            margin-bottom: 15px; line-height: 1.3;
        }
        .hero-subtitle {
            font-size: 1rem; color: var(--text-sub); margin-bottom: 30px; 
            max-width: 600px; margin-left: auto; margin-right: auto; line-height: 1.6;
        }
        .feature-grid {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px;
            margin-top: 20px;
        }
        .feature-item {
            background: rgba(255,255,255,0.6); padding: 20px; border-radius: var(--radius-md);
            text-align: left; border: 1px solid rgba(255,255,255,0.5); display: flex; align-items: flex-start; gap: 15px;
            transition: transform 0.2s;
        }
        .feature-item:hover { transform: translateY(-2px); background: white; }
        .feature-icon { font-size: 1.8rem; background: rgba(255,255,255,0.8); padding: 10px; border-radius: 12px; }
        .feature-text h3 { font-size: 1rem; font-weight: 700; margin-bottom: 5px; color: var(--text-main); }
        .feature-text p { font-size: 0.85rem; color: var(--text-sub); margin: 0; }

        .section-header { margin-bottom: 30px; animation: fadeIn 0.4s ease-out; }
        .section-header h2 { font-size: 2rem; margin-bottom: 8px; color: var(--text-main); letter-spacing: -0.5px; }
        .section-header p { color: var(--text-sub); font-size: 1.05rem; }

        .tab-view { display: none; animation: slideUp 0.4s cubic-bezier(0.16, 1, 0.3, 1); }
        .tab-view.active { display: block; }
        @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        .toolbar { display: flex; gap: 15px; margin-bottom: 30px; flex-wrap: wrap; }
        .search-box, .filter-select {
            padding: 12px 20px; border-radius: var(--radius-sm); border: 1px solid rgba(255,255,255,0.6);
            background: rgba(255,255,255,0.5); outline: none; font-size: 0.95rem;
            transition: 0.2s; color: var(--text-main); flex: 1; backdrop-filter: blur(5px);
        }
        .search-box:focus, .filter-select:focus { background: white; border-color: var(--primary-color); box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1); }
        .filter-select { flex: 0 0 160px; cursor: pointer; }

        .timeline-container { position: relative; padding-left: 40px; max-width: 800px; }
        .timeline-container::before {
            content: ''; position: absolute; left: 14px; top: 10px; bottom: 0; width: 2px;
            background: linear-gradient(to bottom, var(--primary-color) 0%, rgba(255,255,255,0) 100%);
        }
        .timeline-item {
            position: relative; margin-bottom: 40px;
            background: var(--glass-card); border: var(--glass-border);
            padding: 25px; border-radius: var(--radius-md);
            transition: transform 0.3s;
        }
        .timeline-item:hover { transform: translateY(-3px); background: white; box-shadow: 0 10px 25px rgba(0,0,0,0.05); }
        .timeline-dot {
            position: absolute; left: -39px; top: 25px; width: 28px; height: 28px;
            background: white; border: 4px solid var(--primary-color); border-radius: 50%;
            z-index: 2; box-shadow: 0 0 0 4px rgba(79, 70, 229, 0.2);
        }
        .timeline-item.future .timeline-dot { border-color: var(--text-muted); box-shadow: none; }
        .t-date-badge {
            display: inline-block; background: rgba(79, 70, 229, 0.1); color: var(--primary-color);
            padding: 4px 12px; border-radius: 20px; font-weight: 700; font-size: 0.85rem; margin-bottom: 10px;
        }
        .t-title { font-size: 1.3rem; font-weight: 700; margin-bottom: 8px; }
        .t-desc { color: var(--text-sub); margin-bottom: 15px; }
        .t-countdown { font-weight: 600; color: var(--text-muted); font-size: 0.9rem; }
        .t-countdown strong { color: var(--primary-color); font-size: 1.1rem; }

        .notice-card {
            background: var(--glass-card); border: var(--glass-border);
            padding: 24px; border-radius: var(--radius-md); position: relative;
            transition: transform 0.2s; margin-bottom: 20px;
            display: flex; flex-direction: column;
        }
        .notice-card:hover { transform: translateY(-2px); background: white; }
        .notice-card.high { border-left: 5px solid var(--danger-color); }
        .notice-card.normal { border-left: 5px solid var(--primary-color); }
        .notice-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 10px; }
        .notice-title { font-size: 1.2rem; font-weight: 700; color: var(--text-main); }
        .tag-group { display: flex; gap: 8px; }
        .tag { font-size: 0.75rem; padding: 4px 10px; border-radius: 6px; background: rgba(0,0,0,0.06); color: var(--text-sub); font-weight: 600; }
        .tag.urgent { background: #fee2e2; color: var(--danger-color); }
        .notice-body { font-size: 1rem; line-height: 1.6; color: var(--text-sub); margin-bottom: 15px; }
        .notice-meta { font-size: 0.85rem; color: var(--text-muted); display: flex; justify-content: space-between; border-top: 1px solid rgba(0,0,0,0.05); padding-top: 12px;}

        .vote-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px; }
        .vote-card {
            background: white; border-radius: var(--radius-md); padding: 25px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.03); border: 1px solid rgba(0,0,0,0.05);
            display: flex; flex-direction: column; transition: transform 0.2s;
        }
        .vote-card:hover { transform: translateY(-4px); box-shadow: 0 10px 30px rgba(0,0,0,0.08); }
        .vote-status { align-self: flex-start; padding: 5px 12px; border-radius: 20px; font-size: 0.8rem; font-weight: 700; margin-bottom: 15px; }
        .status-active { background: #dcfce7; color: var(--success-color); }
        .status-closed { background: #f1f5f9; color: var(--text-muted); }
        .vote-title { font-size: 1.15rem; font-weight: 700; margin-bottom: 10px; }
        .vote-desc { color: var(--text-sub); font-size: 0.95rem; margin-bottom: 20px; flex: 1; line-height: 1.5; }
        .vote-btn {
            text-decoration: none; text-align: center; padding: 12px; border-radius: 12px;
            font-weight: 600; background: var(--primary-color); color: white; transition: 0.2s;
        }
        .vote-btn:hover { background: var(--primary-hover); box-shadow: 0 4px 15px rgba(79, 70, 229, 0.3); }
        .vote-btn.disabled { background: #cbd5e1; cursor: not-allowed; box-shadow: none; }

        .portal-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(140px, 1fr)); gap: 15px; margin-bottom: 40px; }
        .portal-card {
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            background: white; padding: 20px; border-radius: var(--radius-md);
            text-decoration: none; border: 1px solid rgba(0,0,0,0.03);
            transition: all 0.3s; box-shadow: 0 4px 10px rgba(0,0,0,0.03);
        }
        .portal-card:hover { transform: translateY(-5px); box-shadow: 0 10px 20px rgba(0,0,0,0.08); }
        .portal-icon { font-size: 2rem; margin-bottom: 10px; }
        .portal-name { color: var(--text-main); font-weight: 600; font-size: 0.9rem; }

        .resource-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(240px, 1fr)); gap: 20px; }
        .resource-card {
            background: var(--glass-card); padding: 25px; border-radius: var(--radius-md);
            display: flex; flex-direction: column; align-items: center; text-align: center;
            border: var(--glass-border); transition: 0.3s;
        }
        .resource-card:hover { transform: translateY(-5px); background: white; box-shadow: 0 15px 30px rgba(0,0,0,0.08); }
        .res-icon { font-size: 2.5rem; margin-bottom: 15px; }
        .res-title { font-weight: 700; margin-bottom: 5px; color: var(--text-main); }
        .res-desc { font-size: 0.85rem; color: var(--text-sub); margin-bottom: 15px; min-height: 40px; }
        .res-btn { color: var(--primary-color); text-decoration: none; font-weight: 600; font-size: 0.9rem; border-bottom: 2px solid transparent; transition: 0.2s; }
        .res-btn:hover { border-bottom-color: var(--primary-color); }

        .feedback-container {
            background: var(--glass-card); padding: 30px; border-radius: var(--radius-lg);
            border: var(--glass-border); max-width: 800px;
        }
        textarea {
            width: 100%; height: 200px; padding: 20px; border-radius: var(--radius-md);
            border: 1px solid rgba(255,255,255,0.6); background: rgba(255,255,255,0.5);
            font-family: inherit; font-size: 1rem; resize: none; outline: none; transition: 0.3s;
            margin-bottom: 20px;
        }
        textarea:focus { background: white; border-color: var(--primary-color); box-shadow: 0 0 0 4px rgba(79, 70, 229, 0.1); }
        .btn-submit {
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            color: white; border: none; padding: 14px 40px; border-radius: 12px;
            font-weight: 600; cursor: pointer; float: right; transition: 0.3s;
            box-shadow: 0 5px 15px rgba(79, 70, 229, 0.3);
        }
        .btn-submit:hover { transform: translateY(-2px); box-shadow: 0 10px 25px rgba(79, 70, 229, 0.4); }

        /* ============================
           ğŸ“± ç§»åŠ¨ç«¯ä¸“å±æ ·å¼ (å›ºå®šåº•éƒ¨å¯¼èˆªç‰ˆ)
           ============================ */
        @media (max-width: 768px) {
            body { 
                align-items: flex-start; height: auto; overflow-y: auto; background: #f8fafc;
            }
            .app-window { 
                flex-direction: column; width: 100%; height: auto; min-height: 100vh;
                border: none; border-radius: 0; background: transparent; box-shadow: none; overflow: visible;
            }

            /* --- å…³é”®ï¼šå›ºå®šåº•éƒ¨å¯¼èˆªæ  --- */
            .sidebar { 
                position: fixed; bottom: 0; left: 0; right: 0;
                width: 100%; height: auto;
                padding: 8px 10px; 
                padding-bottom: env(safe-area-inset-bottom, 20px); /* é€‚é…å…¨é¢å± */
                background: rgba(255, 255, 255, 0.98); 
                backdrop-filter: blur(20px);
                border-right: none; border-top: 1px solid rgba(0,0,0,0.1);
                z-index: 9999; 
                flex-direction: row; justify-content: space-around;
                box-shadow: 0 -5px 15px rgba(0,0,0,0.05);
            }
            /* éšè—ä¾§è¾¹æ åŸæœ‰æ ‡é¢˜ */
            .app-brand { display: none; }
            .nav-menu { flex-direction: row; width: 100%; justify-content: space-around; gap: 0; }
            .nav-item { flex-direction: column; justify-content: center; padding: 4px; border-radius: 8px; font-size: 0.7rem; gap: 4px; color: #94a3b8; }
            .nav-item.active { background: transparent; color: var(--primary-color); transform: none; }
            .nav-icon { margin-right: 0; font-size: 1.4rem; margin-bottom: 2px; }

            /* å†…å®¹åŒºåŸŸé€‚é… */
            .content-area { 
                padding: 20px 16px; 
                padding-bottom: 100px; /* é˜²æ­¢å†…å®¹è¢«åº•éƒ¨å¯¼èˆªæ é®æŒ¡ */
                width: 100%;
            }
            
            /* å•åˆ—å¸ƒå±€ */
            .toolbar { flex-direction: column; gap: 10px; }
            .search-box, .filter-select { width: 100%; flex: none; }
            .vote-grid, .resource-grid, .portal-grid, .feature-grid { grid-template-columns: 1fr; }
            .timeline-container { padding-left: 20px; }
            .timeline-dot { left: -29px; }
        }
    </style>
</head>
<body>

    <div class="ambient-bg"><div class="orb orb-1"></div><div class="orb orb-2"></div><div class="orb orb-3"></div></div>

    <div class="app-window">
        <aside class="sidebar">
            <div class="app-brand">
                <div class="app-title">HNU 2501</div>
                <div class="app-subtitle">ç­çº§ç»¼åˆæœåŠ¡å¹³å°</div>
            </div>
            
            <nav class="nav-menu">
                <button class="nav-item active" onclick="switchTab('home')">
                    <span class="nav-icon">ğŸ </span> é¦–é¡µ
                </button>
                <button class="nav-item" onclick="switchTab('timeline')">
                    <span class="nav-icon">ğŸ“…</span> é‡è¦æ—¥ç¨‹
                </button>
                <button class="nav-item" onclick="switchTab('notifications')">
                    <span class="nav-icon">ğŸ“¢</span> é€šçŸ¥å…¬å‘Š
                </button>
                <button class="nav-item" onclick="switchTab('votes')">
                    <span class="nav-icon">ğŸ—³ï¸</span> ç­çº§æŠ•ç¥¨
                </button>
                <button class="nav-item" onclick="switchTab('resources')">
                    <span class="nav-icon">ğŸ“š</span> èµ„æºä»“åº“
                </button>
                <button class="nav-item" onclick="switchTab('feedback')">
                    <span class="nav-icon">ğŸ’¡</span> çµæ„Ÿä¿¡ç®±
                </button>
            </nav>
        </aside>

        <main class="content-area">
            
            <div id="home" class="tab-view active">
                <div class="hero-card">
                    <h1 class="hero-title">ID2501 çµæ„Ÿä»“åº“<br><span style="font-size:0.6em; opacity:0.8; font-weight:500;">ç­çº§ç»¼åˆæœåŠ¡å¹³å°</span></h1>
                    <p class="hero-subtitle">
                        âœ¨ è¿æ¥æ¯ä¸€ä½åŒå­¦çš„æ•°å­—å®¶å›­ã€‚<br>åœ¨è¿™é‡Œï¼Œä½ å¯ä»¥æŸ¥çœ‹é‡è¦æ—¥ç¨‹ã€è·å–å­¦ä¹ èµ„æºã€å‚ä¸æ°‘ä¸»æŠ•ç¥¨ï¼Œæˆ–æŠ•é€’ä½ çš„å¥‡æ€å¦™æƒ³ã€‚
                    </p>
                </div>
                
                <div class="section-header">
                    <h2>åŠŸèƒ½å¯¼èˆª</h2>
                    <p>Features Overview</p>
                </div>

                <div class="feature-grid">
                    <div class="feature-item" onclick="switchTab('timeline')" style="cursor:pointer;">
                        <span class="feature-icon">ğŸ“…</span>
                        <div class="feature-text">
                            <h3>é‡è¦æ—¥ç¨‹</h3>
                            <p>è‡ªåŠ¨å€’æ•°ï¼Œä¸å†é”™è¿‡è€ƒè¯•ä¸å›¢å»ºã€‚</p>
                        </div>
                    </div>
                    <div class="feature-item" onclick="switchTab('notifications')" style="cursor:pointer;">
                        <span class="feature-icon">ğŸ“¢</span>
                        <div class="feature-text">
                            <h3>ç­çº§é€šçŸ¥</h3>
                            <p>é‡è¦äº‹åŠ¡å…¬ç¤ºï¼Œæ”¯æŒç­›é€‰æ£€ç´¢ã€‚</p>
                        </div>
                    </div>
                    <div class="feature-item" onclick="switchTab('votes')" style="cursor:pointer;">
                        <span class="feature-icon">ğŸ—³ï¸</span>
                        <div class="feature-text">
                            <h3>ç­çº§æŠ•ç¥¨</h3>
                            <p>åˆ—å‡ºç­çº§æŠ•ç¥¨ä»»åŠ¡ã€‚</p>
                        </div>
                    </div>
                    <div class="feature-item" onclick="switchTab('resources')" style="cursor:pointer;">
                        <span class="feature-icon">ğŸ“š</span>
                        <div class="feature-text">
                            <h3>èµ„æºä»“åº“</h3>
                            <p>è½¯ä»¶æ–‡æ¡£ä¸€ç«™å¼ä¸‹è½½ï¼Œå«ä¾¿æ·ä¼ é€é—¨ã€‚</p>
                        </div>
                    </div>
                    <div class="feature-item" onclick="switchTab('feedback')" style="cursor:pointer;">
                        <span class="feature-icon">ğŸ’¡</span>
                        <div class="feature-text">
                            <h3>çµæ„Ÿä¿¡ç®±</h3>
                            <p>åŒ¿åæäº¤å»ºè®®ï¼Œç›´è¾¾ç®¡ç†å‘˜é‚®ç®±ã€‚</p>
                        </div>
                    </div>
                </div>
            </div>

            <div id="timeline" class="tab-view">
                <div class="section-header">
                    <h2>é‡è¦æ—¥ç¨‹</h2>
                    <p>Coming up next... åšå¥½æ—¶é—´è§„åˆ’</p>
                </div>
                <div id="scheduleContainer" class="timeline-container">
                    <div>åŠ è½½ä¸­...</div>
                </div>
            </div>

            <div id="notifications" class="tab-view">
                <div class="section-header">
                    <h2>é€šçŸ¥å…¬å‘Š</h2>
                    <p>ç­çº§äº‹åŠ¡å…¬ç¤ºæ </p>
                </div>
                <div class="toolbar">
                    <input type="text" id="noticeSearch" class="search-box" placeholder="ğŸ” æœç´¢æ ‡é¢˜æˆ–å†…å®¹...">
                    <select id="noticeSort" class="filter-select">
                        <option value="date">ğŸ•’ æŒ‰æ—¶é—´æ’åº</option>
                        <option value="weight">ğŸ”¥ æŒ‰é‡è¦æ€§</option>
                    </select>
                </div>
                <div id="notificationList">åŠ è½½ä¸­...</div>
            </div>

            <div id="votes" class="tab-view">
                <div class="section-header">
                    <h2>ç­çº§æŠ•ç¥¨</h2>
                    <p>å‚ä¸å†³ç­–ï¼Œè¡¨è¾¾è§‚ç‚¹</p>
                </div>
                <div class="toolbar">
                    <input type="text" id="voteSearch" class="search-box" placeholder="ğŸ” æœç´¢æŠ•ç¥¨ä¸»é¢˜...">
                </div>
                <div id="voteList" class="vote-grid">åŠ è½½ä¸­...</div>
            </div>

            <div id="resources" class="tab-view">
                <div class="section-header">
                    <h2>èµ„æºä»“åº“</h2>
                    <p>å¸¸ç”¨é“¾æ¥ä¸å­¦ä¹ èµ„æ–™</p>
                </div>

                <h3 style="margin-bottom:15px;color:var(--text-sub);font-size:1rem;">ğŸš€ å¿«é€Ÿä¼ é€é—¨</h3>
                <div class="portal-grid">
                    <a href="https://www.hnu.edu.cn/" target="_blank" class="portal-card">
                        <span class="portal-icon">ğŸ«</span><span class="portal-name">å­¦æ ¡å®˜ç½‘</span>
                    </a>
                    <a href="https://cas.hnu.edu.cn/cas/login?service=https%3A%2F%2Fpt.hnu.edu.cn%2Fpersonal-center" class="portal-card">
                        <span class="portal-icon">ğŸ“</span><span class="portal-name">ä¸ªäººé—¨æˆ·</span>
                    </a>
                    <a href="https://cas.hnu.edu.cn/cas/login?service=https%3A%2F%2Fwebvpn2.hnu.edu.cn%3A443%2Fpassport%2Fv1%2Fauth%2Fcas" class="portal-card">
                        <span class="portal-icon">ğŸ“‘</span><span class="portal-name">æ•™åŠ¡ç³»ç»Ÿ</span>
                    </a>
                    <a href="https://pinwall.cn/" class="portal-card">
                        <span class="portal-icon">ğŸ“Œ</span><span class="portal-name">å›¾é’‰å¢™</span>
                    </a>
                </div>

                <h3 style="margin-bottom:15px;color:var(--text-sub);font-size:1rem;">ğŸ“‚ æ–‡ä»¶åˆ—è¡¨</h3>
                <div class="toolbar">
                    <input type="text" id="resSearch" class="search-box" placeholder="ğŸ” æœç´¢èµ„æº...">
                    <select id="resCategory" class="filter-select">
                        <option value="all">å…¨éƒ¨åˆ†ç±»</option>
                        <option value="software">ğŸ’» è½¯ä»¶</option>
                        <option value="website">ğŸŒ ç½‘ç«™</option>
                        <option value="doc">ğŸ“„ æ–‡æ¡£</option>
                    </select>
                </div>
                <div id="resourceGrid" class="resource-grid">åŠ è½½ä¸­...</div>
            </div>

            <div id="feedback" class="tab-view">
                <div class="section-header">
                    <h2>çµæ„Ÿä¿¡ç®±</h2>
                    <p>åŒ¿åå»ºè®®ï¼Œå…±å»ºç­çº§</p>
                </div>
                <div class="feedback-container">
                    <form id="feedbackForm">
                        <textarea id="ideaContent" placeholder="å†™ä¸‹ä½ çš„æƒ³æ³•ã€å»ºè®®æˆ–å¿ƒæ„¿..." required></textarea>
                        <button type="submit" class="btn-submit" id="submitBtn">âœ¨ å‘é€çµæ„Ÿ</button>
                    </form>
                </div>
            </div>

        </main>
    </div>

    <script>
        // --- å…¨å±€å˜é‡ ---
        let notifications = [], votes = [], resources = [];
        
        // ğŸ“… æ—¥ç¨‹è¡¨é…ç½®
        const schedules = [
            { title: "è®¡ç®—æœº Python è€ƒè¯•", date: "2025-11-30", desc: "ç»¼åˆæ¥¼B109 15:00 - 16:30" },
            { title: "ç­çº§å›¢å»º: çƒ§çƒ¤", date: "2025-12-05", desc: "ç­‰å€™ç­çº§é€šçŸ¥" },
            { title: "è‹±è¯­å››å…­çº§è€ƒè¯•", date: "2025-12-13", desc: "è®°å¾—å¸¦å‡†è€ƒè¯" }
        ];

        document.addEventListener('DOMContentLoaded', () => {
            initSchedule();
            loadNotifications();
            loadVotes();
            loadResources();
            initFeedback();
        });

        // åˆ‡æ¢ Tab
        function switchTab(id) {
            document.querySelectorAll('.tab-view').forEach(el => el.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            
            document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
            const btns = document.querySelectorAll('.nav-item');
            btns.forEach(btn => {
                if(btn.getAttribute('onclick').includes(id)) btn.classList.add('active');
            });
            
            // åˆ‡æ¢åè‡ªåŠ¨æ»šåŠ¨åˆ°é¡¶éƒ¨
            document.querySelector('.content-area').scrollTop = 0;
            if(window.innerWidth <= 768) {
                window.scrollTo(0, 0);
            }
        }

        // ğŸ“… åˆå§‹åŒ–æ—¥ç¨‹è¡¨
        function initSchedule() {
            const container = document.getElementById('scheduleContainer');
            const today = new Date();
            today.setHours(0,0,0,0);
            const sorted = schedules
                .map(item => {
                    const d = new Date(item.date);
                    const diff = Math.ceil((d - today) / (1000 * 60 * 60 * 24));
                    return { ...item, diff };
                })
                .filter(item => item.diff >= 0)
                .sort((a,b) => a.diff - b.diff);

            if(sorted.length === 0) {
                container.innerHTML = '<div style="padding:20px;color:#666">è¿‘æœŸæš‚æ— æ—¥ç¨‹ ğŸ‰</div>';
                return;
            }

            container.innerHTML = sorted.map((item, index) => {
                const isFirst = index === 0;
                const dateStr = item.date;
                return `
                <div class="timeline-item ${isFirst ? '' : 'future'}">
                    <div class="timeline-dot"></div>
                    <span class="t-date-badge">${dateStr}</span>
                    <div class="t-title">${item.title}</div>
                    <div class="t-desc">${item.desc}</div>
                    <div class="t-countdown">è·ç¦»è¿˜æœ‰ <strong>${item.diff}</strong> å¤©</div>
                </div>
                `;
            }).join('');
        }

        // ğŸ“¢ åŠ è½½é€šçŸ¥
        async function loadNotifications() {
            try {
                const response = await fetch('/data/notifications.json');
                if (!response.ok) throw new Error('æ–‡ä»¶æœªæ‰¾åˆ°');
                notifications = await response.json();
            } catch (error) {
                console.error("æ— æ³•åŠ è½½é€šçŸ¥:", error);
                notifications = [{ title: "åŠ è½½å¤±è´¥", content: "è¯·æ£€æŸ¥ data/notifications.json æ˜¯å¦å­˜åœ¨", date: "ç³»ç»Ÿ", weight: "high", tags: ["é”™è¯¯"] }];
            }
            renderNotifications();
            
            const searchInput = document.getElementById('noticeSearch');
            const sortSelect = document.getElementById('noticeSort');
            searchInput.replaceWith(searchInput.cloneNode(true));
            document.getElementById('noticeSearch').addEventListener('input', renderNotifications);
            sortSelect.replaceWith(sortSelect.cloneNode(true));
            document.getElementById('noticeSort').addEventListener('change', renderNotifications);
        }

        function renderNotifications() {
            const container = document.getElementById('notificationList');
            const search = document.getElementById('noticeSearch').value.toLowerCase();
            const sort = document.getElementById('noticeSort').value;
            let filtered = notifications.filter(n => n.title.toLowerCase().includes(search) || n.content.toLowerCase().includes(search));
            if(sort === 'date') filtered.sort((a,b) => new Date(a.date) - new Date(b.date)); // ä¿®å¤ï¼šæœ€æ–°çš„åœ¨ä¸Šé¢
            if(sort === 'weight') filtered.sort((a,b) => (b.weight==='high'?1:0) - (a.weight==='high'?1:0));

            container.innerHTML = filtered.map(n => `
                <div class="notice-card ${n.weight}">
                    <div class="notice-header">
                        <div class="notice-title">${n.title}</div>
                        <div class="tag-group">
                            ${n.weight==='high'?'<span class="tag urgent">é‡è¦</span>':''}
                            ${n.tags.map(t=>`<span class="tag">#${t}</span>`).join('')}
                        </div>
                    </div>
                    <div class="notice-body">${n.content}</div>
                    <div class="notice-meta"><span>ç®¡ç†å‘˜</span><span>${n.date}</span></div>
                </div>
            `).join('');
        }

        // ğŸ—³ï¸ åŠ è½½æŠ•ç¥¨
        async function loadVotes() {
            try {
                const response = await fetch('/data/votes.json');
                if (!response.ok) throw new Error('æ–‡ä»¶æœªæ‰¾åˆ°');
                votes = await response.json();
            } catch (error) { votes = []; }

            const container = document.getElementById('voteList');
            const searchInput = document.getElementById('voteSearch');
            const render = () => {
                const term = searchInput.value.toLowerCase();
                container.innerHTML = votes.filter(v => v.title.toLowerCase().includes(term)).map(v => `
                    <div class="vote-card">
                        <span class="vote-status ${v.status==='active'?'status-active':'status-closed'}">${v.status==='active'?'è¿›è¡Œä¸­':'å·²ç»“æŸ'}</span>
                        <div class="vote-title">${v.title}</div>
                        <div class="vote-desc">${v.desc}</div>
                        <a href="${v.status==='active'?v.link:'javascript:void(0)'}" target="_blank" class="vote-btn ${v.status==='active'?'':'disabled'}">${v.status==='active'?'å‚ä¸æŠ•ç¥¨':'æŸ¥çœ‹ç»“æœ'}</a>
                    </div>`).join('');
            };
            searchInput.addEventListener('input', render);
            render();
        }

        // ğŸ“š åŠ è½½èµ„æº
        async function loadResources() {
            try {
                const response = await fetch('/data/resources.json');
                if (!response.ok) throw new Error('æ–‡ä»¶æœªæ‰¾åˆ°');
                resources = await response.json();
            } catch (error) { resources = []; }

            const oldSearch = document.getElementById('resSearch');
            const oldCat = document.getElementById('resCategory');
            const newSearch = oldSearch.cloneNode(true);
            const newCat = oldCat.cloneNode(true);
            oldSearch.parentNode.replaceChild(newSearch, oldSearch);
            oldCat.parentNode.replaceChild(newCat, oldCat);

            const render = () => {
                const term = newSearch.value.toLowerCase();
                const cat = newCat.value; 
                const filtered = resources.filter(r => {
                    const matchSearch = r.title.toLowerCase().includes(term) || (r.desc || '').toLowerCase().includes(term);
                    const rType = (r.type || r.category || 'other').toLowerCase();
                    const matchCat = (cat === 'all') || (rType === cat);
                    return matchSearch && matchCat;
                });
                const container = document.getElementById('resourceGrid');
                if (filtered.length === 0) {
                    container.innerHTML = '<div style="text-align:center; color:#94a3b8; width:100%; padding:20px;">ğŸ“¦ æš‚æ— åŒ¹é…èµ„æº</div>';
                    return;
                }
                container.innerHTML = filtered.map(r => `
                    <div class="resource-card">
                        <div class="res-icon">${r.icon || 'ğŸ“„'}</div>
                        <div class="res-title">${r.title}</div>
                        <div class="res-desc">${r.desc || 'æš‚æ— æè¿°'}</div>
                        <a href="${r.link || '#'}" target="_blank" class="res-btn">è·å–èµ„æº</a>
                    </div>`).join('');
            };
            newSearch.addEventListener('input', render);
            newCat.addEventListener('change', render);
            render();
        }

        // ğŸ’¡ çµæ„Ÿåé¦ˆ
        function initFeedback() {
            const btn = document.getElementById('submitBtn');
            const form = document.getElementById('feedbackForm');
            const textarea = document.getElementById('ideaContent');
            form.addEventListener('submit', async (e) => {
                e.preventDefault();
                const content = textarea.value.trim();
                if (!content) return;
                btn.innerText = "ğŸš€ å‘é€ä¸­...";
                btn.disabled = true;
                try {
                    const response = await fetch('/api/submit', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ content: content, type: 'feedback' })
                    });
                    const result = await response.json();
                    if (response.ok) {
                        alert("ğŸ‰ " + (result.message || "å‘é€æˆåŠŸï¼"));
                        textarea.value = '';
                    } else { throw new Error(result.error || "æäº¤å¤±è´¥"); }
                } catch (error) { alert("ğŸ’¨ å‘é€å¤±è´¥: " + error.message); } 
                finally { btn.innerText = "âœ¨ å‘é€çµæ„Ÿ"; btn.disabled = false; }
            });
        }
    </script>
</body>
</html>